<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>EniBook : éléments HTML</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
<link rel="stylesheet" type="text/css" href="_dist/enibook.css">
<link rel="stylesheet" type="text/css" href="doc.css">
<link rel="stylesheet" type="text/css" href="hljs-themes.css">
<link rel="stylesheet" type="text/css" href="elements-uno.css">
<script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/shoelace-autoloader.js"></script>
<script type="module" src="https://jspm.dev/api-viewer-element"></script>
<script type="module" src="_dist/enibook.js"></script>
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="article toc2 toc-left">
<toolbar-it class="toolbar-doc-enibook" fixed="">
  <sl-button-group slot="start">
    <sl-tooltip content="Documentations EniBook"><sl-button size="medium" href="../index.html"><it-mdi-home></it-mdi-home></sl-button></sl-tooltip>
    <sl-tooltip content="EniBook : exemples"><sl-button size="medium" href="../examples/index.html"><it-mdi-monitor-eye></it-mdi-monitor-eye></sl-button></sl-tooltip>
    <sl-tooltip content="EniBook : éléments HTML"><sl-button size="medium" href="../elements/index.html"><it-mdi-language-html5></it-mdi-language-html5></sl-button></sl-tooltip>
    <sl-tooltip content="EniBook : API typescript"><sl-button size="medium" href="../api/index.html"><it-mdi-language-typescript></it-mdi-language-typescript></sl-button></sl-tooltip>
    <sl-tooltip content="EniBook : codes sources"><sl-button size="medium" href="https://github.com/enibook/enibook"><it-mdi-github></it-mdi-github></sl-button></sl-tooltip>
  </sl-button-group>
  <tools-it size="medium" slot="end"></tools-it>
  
</toolbar-it>
<div id="header">
<h1>EniBook : éléments HTML</h1>
<div id="toc" class="toc2">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="index.html">EniBook : éléments HTML</a></li><li class="current"><a href="chap1.html">1. Aperçu asciidoc</a>
<ul class="sectlevel2">
<li class="current"><a href="chap1.html#_script_enibook">1.1. Script <code>enibook</code></a></li>
<li class="current"><a href="chap1.html#_attributs_et_propriétés">1.2. Attributs et propriétés</a></li>
<li class="current"><a href="chap1.html#_api">1.3. API</a></li>
</ul>
</li>
<li><a href="chap2.html">2. Aperçu HTML</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_script_enibook_2">2.1. Script <code>enibook</code></a></li>
<li><a href="chap2.html#_attributs_et_propriétés_2">2.2. Attributs et propriétés</a></li>
<li><a href="chap2.html#_api_2">2.3. API</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Aperçu markdown</a></li>
<li><a href="chap4.html">4. Bascule</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_attributs_et_propriétés_3">4.1. Attributs et propriétés</a></li>
<li><a href="chap4.html#_api_3">4.2. API</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Horloge</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_attributs_et_propriétés_4">5.1. Attributs et propriétés</a></li>
<li><a href="chap5.html#_api_4">5.2. API</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Lorem Ipsum</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_gabarits">6.1. Gabarits</a></li>
<li><a href="chap6.html#_attributs_et_propriétés_5">6.2. Attributs et propriétés</a></li>
<li><a href="chap6.html#_api_5">6.3. API</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Barre d’outils</a></li>
</ul>
</div>
</div>
<div id="content">








<div class="sect1">
<h2 id="_aperçu_asciidoc">1. Aperçu asciidoc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fonction</th>
<th class="tableblock halign-left valign-top">Elément <code>html</code></th>
<th class="tableblock halign-left valign-top">Classe <code>typescript</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Cet élément présente côte à côte un code source <code>asciidoc</code> à interpréter et le rendu de son interprétation en <code>html</code>.</p>
</div>
<adoc-preview-it>
  <script type="enibook">
    du code *_asciidoc_*
  </script>
</adoc-preview-it>
<div class="paragraph">
<p>Le transcodage <code>asciidoc</code> → <code>html</code> est réalisé par le processeur <a href="https://docs.asciidoctor.org/asciidoctor.js/latest/">asciidoctor</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;adoc-preview-it&gt;</code></p>
</div>
<div class="paragraph">
<p>type : « <a href="https://developer.mozilla.org/fr/docs/Glossary/Block-level_content">bloc</a> » (<em>block-level element</em>)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="api/classes/AdocPreviewIt.html"><code>AdocPreviewIt</code></a></p>
</div></div></td>
</tr>
</tbody>
</table>
<details>
<summary class="title">Structure</summary>
<div class="content">
<div class="paragraph">
<p>L’élément est structuré en deux parties :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>à gauche<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>, le code source à interpréter;</p>
</li>
<li>
<p>à droite, l’aperçu de l’interprétation du code source.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les deux parties sont séparées par une barre verticale munie d’un grip <it-mdi-drag-vertical style="width:24px" title="grip vertical"></it-mdi-drag-vertical>.</p>
</div>
<adoc-preview-it>
  <script type="enibook">
    // code asciidoc
    = Asciidoc
    :source-highlighter: highlight.js

    == Titre de section
    .Liste _asciidoc_
    * item de liste
    * autre item
    * lien https://docs.asciidoctor.org/asciidoc/latest/[pour en savoir plus...]

  </script>
</adoc-preview-it>
</div>
</details>
<details>
<summary class="title">Interactivité</summary>
<div class="content">
<div class="paragraph">
<p>Cet élément est interactif : il est cliquable
<it-mdi-mouse style="width:24px" title="non cliquable"></it-mdi-mouse>
mais non éditable
<it-mdi-keyboard-off-outline style="width:24px" title="non éditable"></it-mdi-keyboard-off-outline>.</p>
</div>
<div class="paragraph">
<p>L’interaction consiste à adapter les largeurs respectives des parties gauche et droite.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Quand on passe la souris sur l’élément, ses bords ainsi que la barre verticale qui sépare les deux parties, sont mis en évidence par une coloration différente.</p>
</li>
<li>
<p>La barre verticale est déplaçable horizontalement. Quand on passe la souris sur la barre (y compris sur son grip central), le curseur de la souris change de forme pour signifier un déplacement horizontal possible : <it-mdi-resize-horizontal></it-mdi-resize-horizontal>.</p>
<div class="paragraph">
<p>Pour déplacer la barre séparatrice, on opère par glissement de la souris : il suffit de cliquer<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> sur cette barre <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>, maintenir le bouton de la souris enfoncé et ne le relâcher que lorsque le pointeur a atteint la position désirée pour la barre verticale.</p>
</div>
<div class="paragraph">
<p>Le déplacement est limité pour laisser au moins un quart de la largeur totale à la partie la moins large.</p>
</div>
</li>
</ul>
</div>
</div>
</details>
<div class="sect2">
<h3 id="_script_enibook">1.1. Script <code>enibook</code></h3>
<div class="paragraph">
<p>Le code source à visualiser peut être défini dans le contenu de la balise <code>adoc-preview-it</code> à l’aide d’un script de type <code>enibook</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;adoc-preview-it&gt;
  &lt;script type="enibook"&gt;
    // le code asciidoc à interpréter et à visualiser
  &lt;/script&gt;
&lt;/adoc-preview-it&gt;</code></pre>
</div>
</div>
<details id="ex-adoc1">
<summary class="title">Exemple de code défini par un script <code>enibook</code></summary>
<div class="content">
<html-preview-it>
  <script type="enibook">
    <adoc-preview-it>
      <script type="enibook">
        Du code *_asciidoc_*
      &lt;/script&gt;
    </adoc-preview-it>
  </script>
</html-preview-it>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_attributs_et_propriétés">1.2. Attributs et propriétés</h3>
<div class="paragraph">
<p>Cette balise possède 3 attributs spécifiques optionnels : <code>position</code>, <code>src</code> et <code>theme</code>.</p>
</div>
<div class="sect3">
<h4 id="_code_source">1.2.1. Code source</h4>
<div class="paragraph">
<p>L’attribut <code>src</code> permet de définir le code source à visualiser à partir d’un fichier extérieur.</p>
</div>
<details>
<summary class="title">Exemple de code issu d’un fichier</summary>
<div class="content">
<div class="listingblock">
<div class="title">Fichier <code>adoc-preview-file.txt</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">Du code *_asciidoc_* en provenance d'un fichier</code></pre>
</div>
</div>
<html-preview-it>
  <script type="enibook">
    <adoc-preview-it src="adoc-preview/adoc-preview-file.txt">
    </adoc-preview-it>
  </script>
</html-preview-it>
</div>
</details>
<div class="paragraph">
<p>Il est possible de combiner l’utilisation d’un script <code>enibook</code> et l’attribut <code>src</code>. Dans ce cas, le contenu du fichier est inséré avant le contenu du script comme dans l’exemple ci-dessous.</p>
</div>
<details>
<summary class="title">Exemple de codes issus d’un script et d’un fichier</summary>
<div class="content">
<html-preview-it>
  <script type="enibook">
    <adoc-preview-it src="adoc-preview/adoc-preview-file.txt">
      <script type="enibook">
        Paragraphe ajouté par le script `enibook`
      &lt;/script&gt;
    </adoc-preview-it>
  </script>
</html-preview-it>
</div>
</details>
<div class="paragraph">
<p>En dernier ressort, le code source à visualiser peut être défini par un script <code>javascript</code> à l’aide de la propriété <code>code</code> de la classe <code>AdocPreviewIt</code>.</p>
</div>
<details>
<summary class="title">Exemple de code défini par programme</summary>
<div class="content">
<html-preview-it id="demo-prop">
  <script type="enibook">
    <!-- visualisateur sans code -->
    <adoc-preview-it class="demo"></adoc-preview-it>
    <!-- ajout du code par script javascript -->
    <script type="text/javascript">
      const demo = document.body.querySelector("#demo-prop")
      const preview = demo.shadowRoot.querySelector("adoc-preview-it")
      preview.code = `
Code source ajouté par la propriété \`code\` :

du code *_asciidoc_*.
`
    &lt;/script&gt;
    <!-- ajout d'un style -->
    <style>
      .demo { padding: 0.5em; background-color: lightcyan; }
    </style>
  </script>

</html-preview-it></div>
</details>
</div>
<div class="sect3">
<h4 id="_position_du_séparateur_vertical">1.2.2. Position du séparateur vertical</h4>
<div class="paragraph">
<p>La position initiale du séparateur entre le code source et son aperçu est définie par l’attribut <code>position</code>, exprimé en % de la largeur de l’élément (comprise entre 25 et 75, 50 par défaut).</p>
</div>
<details>
<summary class="title">Exemple d’utilisation de l’attribut <code>position</code></summary>
<div class="content">
<html-preview-it>
  <script type="enibook">
    <adoc-preview-it position=75>
      <script type="enibook">
        du code *_asciidoc_*
      &lt;/script&gt;
    </adoc-preview-it>
  </script>
</html-preview-it>
</div>
</details>
</div>
<div class="sect3">
<h4 id="_thème_du_code_source">1.2.3. Thème du code source</h4>
<div class="paragraph">
<p>Le thème de colorisation du code source (clair : <code>light</code> ou sombre : <code>dark</code>) est précisé par l’attribut <code>theme</code> (<code>dark</code> par défaut).</p>
</div>
<details>
<summary class="title">Exemple d’utilisation de l’attribut <code>theme</code></summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Mode clair</dt>
<dd>
<p></p>
<html-preview-it>
  <script type="enibook">
    <adoc-preview-it theme="light">
      <script type="enibook">
        du code *_asciidoc_* en mode clair
      &lt;/script&gt;
    </adoc-preview-it>
  </script>
</html-preview-it>
</dd>
<dt class="hdlist1">Mode sombre</dt>
<dd>
<p></p>
<html-preview-it>
  <script type="enibook">
    <adoc-preview-it theme="dark">
      <script type="enibook">
        du code *_asciidoc_* en mode sombre
      &lt;/script&gt;
    </adoc-preview-it>
  </script>
</html-preview-it>
</dd>
</dl>
</div>
</div>
</details>
</div>
</div>
<div class="sect2">
<h3 id="_api">1.3. API</h3>
<div class="paragraph">
<p>L’<a href="https://developer.mozilla.org/fr/docs/Glossary/API">API</a> (<em>Application Programming Interface</em>) de l’élément <code>&lt;adoc-preview-it&gt;</code> est
consultable <a href="../api/classes/AdocPreviewIt.html">ici</a>.</p>
</div>
<details>
<summary class="title">L’API en bref</summary>
<div class="content">
<api-viewer src="_dist/custom-elements.json" only="adoc-preview-it" exclude-knobs="src">
  <template data-element="adoc-preview-it" data-target="host">
    <adoc-preview-it>
      <script type="enibook">
        Du code *_asciidoc_*
      </script>
    </adoc-preview-it>
  </template>
</api-viewer>
</div>
</details>
<details>
<summary class="title">Usage en <code>typescript</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { AdocPreviewIt } from '@enibook/elements/dist/elements/adoc-preview/adoc-preview' <i class="conum" data-value="1"></i><b>(1)</b>
const adocPreview = new AdocPreviewIt() <i class="conum" data-value="2"></i><b>(2)</b>
adocPreview.code = `
Le code \`asciidoc\` à visualiser
`                                       <i class="conum" data-value="3"></i><b>(3)</b>
document.body.appendChild(adocPreview)  <i class="conum" data-value="4"></i><b>(4)</b>
/*
&lt;body&gt;
...
&lt;adoc-preview-it&gt;
  &lt;script type="enibook"&gt;
    Le code `asciidoc` à visualiser
  &lt;/script&gt;
&lt;/adoc-preview-it&gt;
&lt;/body&gt;
*/</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>importer la classe <a href="../api/classes/AdocPreviewIt.html"><code>AdocPreviewIt</code></a>;</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>créer une instance de cette classe;</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>définir le code à visualiser;</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>ajouter l’instance dans le <a href="https://developer.mozilla.org/fr/docs/Web/API/Document_Object_Model">DOM</a>.</td>
</tr>
</tbody></table>
</div>
</div>
</details>
</div>
</div>
</div></div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Selon le sens de lecture — de gauche à droite (<code>ltr</code> : <em>left to right</em>) ou de droite à gauche (<code>rtl</code> : <em>right to left</em>) — le code source sera à gauche pour une lecture de gauche à droite, à droite pour une lecture de droite à gauche. Le sens de lecture — de gauche à droite (<code>ltr</code> : <em>left to right</em>) ou de droite à gauche (<code>rtl</code> : <em>right to left</em>) — dépend de la langue retenue pour les éléments. Par exemple, le français, l’anglais ou l’espagnol se lisent de gauche à droite tandis que l’arabe, le farsi, l’ourdou ou l’hébreu se lisent de droite à gauche.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Le clic se fait à l’aide du bouton principal de la souris : le gauche en mode droitier, le droit en mode gaucher, ou le bouton unique.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. Le grip vertical <it-mdi-drag-vertical></it-mdi-drag-vertical> est présent pour faciliter le déplacement de la barre verticale séparatrice.
</div>




</div>
<nav>
  <a rel="prev" href="index.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap2.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>

</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    if (e.shiftKey)
      return;
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>